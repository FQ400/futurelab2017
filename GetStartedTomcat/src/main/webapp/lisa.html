<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Lutz Lisa Profil</title>

<!-- Bootstrap -->
<link
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	rel="stylesheet">
<link href="styles.css" rel="stylesheet">
</head>
<body>
	<div id="pageContainer" class="container">
		<p>
			<img id="image"
				src="https://files.slack.com/files-pri/T5R3ABTMW-F5R4FD1UY/lutz-colored.png"
				alt="" />
		</p>
		<p class="lead">TAG CLOUD: LISA</p>
		<div id="tagContainer"> </div>
		<button type="button" class="btn btn-warning btn-lg" style=" margintop:20px;" onclick="location.href = 'http://lutzdata.eu-gb.mybluemix.net';">VIEW READ ARTICLE</button>
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script
			src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script
			src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

		<script>
		var generateTags = function(tags) {
		    var htmlArray = ["<div>"];
		    

		    var array = $.map(tags, function(index, value) {
		    return {'text' : value, 'counter' : index};
		    });


		   array.forEach(function(el) {
		       if (el.text == "LONDON" || el.text == "HOLLYWOOD" || el.text == "BRUNO GANZ" || el.text == "VON DER" || el.text == "BRUNO" || el.text == "BRITISCHEN") {

		       }
		       else{
		       var tagSize;
		       if (el.counter <= 1){
		           tagSize ="14px";
		       }
		       else if (el.counter == 2){
		           tagSize ="16px";
		       }
		       else if (el.counter == 3){
		           tagSize ="20px";
		       }
		       else if (el.counter == 4){
		           tagSize ="24px";
		       }
		       else if (el.counter >= 5){
		           tagSize ="28px";
		       }
		       htmlArray.push("<span style='color: white;background:lightgrey; padding:10px; margin:5px; border-radius: 10px; display: inline-block; font-size: " + tagSize +";'>")
		       htmlArray.push(el.text);
		       htmlArray.push("</span>");
		       }
		      
		    });

		   htmlArray.push("</div>");

		   return htmlArray;
		};

		function placeTags(strArray) {
		    document.querySelector("#tagContainer").innerHTML = strArray.join("");
		}


		var getTags = fetch("http://lutzdata.eu-gb.mybluemix.net/watson/scanText", { method: 'get' });

		getTags.then(function(resp) {
		    return resp.json();
		})
		.then(function(tags){
		        console.log('TAGS', tags);
		        placeTags(generateTags(tags));

		})
		.catch(function(err) {
		    console.log('ERR', err);
		})

		</script>
</body>
</html>